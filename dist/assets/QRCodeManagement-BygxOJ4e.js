import{r as n,j as e}from"./index-D-VxV5N-.js";import{a as d}from"./axios-BimPEqV4.js";/* empty css                      */const l="https://back.lovedatingsite.com",v=async()=>{try{return(await d.get(`${l}/admin/get-all-qr-codes`)).data}catch(r){throw console.error("Error fetching QR codes:",r),r}},g=async r=>{try{return(await d.post(`${l}/admin/save-qr-code`,r)).data}catch(s){throw console.error("Error creating QR code:",s),s}},Q=async r=>{try{await d.delete(`${l}/admin/delete-qr-code/${r}`)}catch(s){throw console.error("Error deleting QR code:",s),s}},f=async r=>{try{return(await d.put(`${l}/admin/set-active-qr-code/${r}`)).data}catch(s){throw console.error("Error setting active QR code:",s),s}},R=()=>{const[r,s]=n.useState([]),[p,i]=n.useState(!1),[o,h]=n.useState({upiId:"",payeeName:"",isActive:!1});n.useEffect(()=>{c()},[]);const c=async()=>{try{const t=await v();s(t)}catch(t){console.error("Error fetching QR codes:",t)}},j=()=>{h({upiId:"",payeeName:"",isActive:!1}),i(!0)},m=()=>{i(!1)},x=t=>{const{name:a,value:N}=t.target;h({...o,[a]:N})},u=async()=>{try{await g(o),c(),m()}catch(t){console.error("Error saving QR code:",t)}},y=async t=>{try{await Q(t),c()}catch(a){console.error("Error deleting QR code:",a)}},b=async t=>{try{await f(t),c()}catch(a){console.error("Error setting active QR code:",a)}};return e.jsx("div",{className:"d-flex",children:e.jsxs("div",{className:"container mt-5",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("h2",{children:"Manage QR Codes"}),e.jsx("button",{className:"btn btn-primary",onClick:j,children:"Add QR Code"})]}),e.jsxs("table",{className:"table table-striped table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"UPI ID"}),e.jsx("th",{children:"Payee Name"}),e.jsx("th",{children:"Is Active"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:r.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.id}),e.jsx("td",{children:t.upiId}),e.jsx("td",{children:t.payeeName}),e.jsx("td",{children:t.active?"Yes":"No"}),e.jsxs("td",{children:[e.jsx("button",{className:"btn btn-danger me-2",onClick:()=>y(t.id),children:"Delete"}),e.jsx("button",{className:"btn btn-success",onClick:()=>b(t.id),disabled:t.active,children:"Set Active"})]})]},t.id))})]}),p&&e.jsx("div",{className:"modal show d-block",tabIndex:"-1",role:"dialog",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-header",children:e.jsx("h5",{className:"modal-title",children:"Add QR Code"})}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"upiId",children:"UPI ID"}),e.jsx("input",{type:"text",className:"form-control",id:"upiId",name:"upiId",value:o.upiId,onChange:x})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsx("label",{htmlFor:"payeeName",children:"Payee Name"}),e.jsx("input",{type:"text",className:"form-control",id:"payeeName",name:"payeeName",value:o.payeeName,onChange:x})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:m,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:u,children:"Add QR Code"})]})]})})})]})})};export{R as default};

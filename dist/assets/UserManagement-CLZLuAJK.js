import{r as t,j as e,L as m}from"./index-Cu_ODyfg.js";import{g as N,u as b,c as p,d as g}from"./UserService-Wb52QWTd.js";/* empty css                      */import"./axios-BimPEqV4.js";const w=()=>{const[o,h]=t.useState([]),[a,n]=t.useState({username:"",password:"",firstName:"",lastName:"",balance:0}),[c,i]=t.useState(!1);t.useEffect(()=>{l()},[]);const l=async()=>{try{const s=await N();h(s.data)}catch(s){console.error("Error fetching users:",s)}},r=s=>{n({...a,[s.target.name]:s.target.value})},x=async s=>{s.preventDefault();try{c?await b(a.id,a):await p(a),n({username:"",password:"",firstName:"",lastName:"",balance:0}),i(!1),l()}catch(d){console.error("Error saving user:",d)}},j=s=>{n(s),i(!0)},u=async s=>{try{await g(s),l()}catch(d){console.error("Error deleting user:",d)}};return e.jsxs(e.Fragment,{children:[e.jsx("nav",{className:"navbar",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(m,{to:"/user-management",children:"User Management"})}),e.jsx("li",{children:e.jsx(m,{to:"/qr-code-management",children:"QR Code Management"})})]})}),e.jsxs("div",{className:"container mt-5",children:[e.jsx("h2",{className:"text-center mb-4",children:"User Management"}),e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:c?"Edit User":"Create New User"}),e.jsx("div",{className:"card-body",children:e.jsx("form",{onSubmit:x,children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-3",children:e.jsx("input",{type:"text",name:"username",className:"form-control",placeholder:"Username",value:a.username,onChange:r,required:!0})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsx("input",{type:"text",name:"password",className:"form-control",placeholder:"Password",value:a.password,onChange:r,required:!0})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsx("input",{type:"text",name:"firstName",className:"form-control",placeholder:"First Name",value:a.firstName,onChange:r,required:!0})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsx("input",{type:"text",name:"lastName",className:"form-control",placeholder:"Last Name",value:a.lastName,onChange:r,required:!0})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsx("input",{type:"number",name:"balance",className:"form-control",placeholder:"Balance",value:a.balance,onChange:r,required:!0})}),e.jsx("div",{className:"col-md-12 text-end",children:e.jsx("button",{type:"submit",className:"btn btn-success",children:c?"Update User":"Create User"})})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-secondary text-white",children:"User List"}),e.jsx("div",{className:"card-body",children:e.jsxs("table",{className:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Username"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:o.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.username}),e.jsx("td",{children:s.firstName}),e.jsx("td",{children:s.lastName}),e.jsxs("td",{children:["â‚¹",s.balance.toFixed(2)]}),e.jsxs("td",{children:[e.jsx("button",{className:"btn btn-warning btn-sm me-2",onClick:()=>j(s),children:"Edit"}),e.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>u(s.username),children:"Delete"})]})]},s.username))})]})})]})]})]})};export{w as default};
